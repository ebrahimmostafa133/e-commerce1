<div  
  class="border-2 border-green-700 rounded-xl overflow-hidden shadow relative group/card 
         hover:border-green-500 hover:border-4 hover:shadow-lg transition-all duration-200
         dark:border-gray-700 dark:bg-gradient-to-br dark:from-gray-900 dark:via-gray-800 dark:to-black 
         dark:hover:border-emerald-500 dark:hover:shadow-emerald-500/30"
>
  <!-- Image -->
  <div class="relative cursor-pointer overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900">
    <div 
      [routerLink]="['/details', product._id, product.slug]" 
      class="card-img group-hover/card:scale-110 cursor-pointer transition-all duration-700 ease-out"
    >
      <img 
        src="{{ product.imageCover }}" 
        alt="{{ product.title }}"
        class="w-full object-cover object-center transition-all duration-700"
      />
    </div>
  </div>

  <!-- Wishlist Button -->
  <button
    (click)="addProductItemToWishlist(product._id)"
    class="absolute cursor-pointer top-3 right-3 w-10 h-10 
           bg-white/90 backdrop-blur-sm rounded-full text-green-500 
           hover:bg-red-50 hover:text-red-500 transition-all duration-300 
           flex items-center justify-center shadow-md hover:shadow-lg transform hover:scale-110
           dark:bg-gray-900/80 dark:text-emerald-400 dark:hover:bg-red-600/20 dark:hover:text-red-500"
  >
    <i class="fas fa-heart text-sm"></i>
  </button>

  <!-- Card Content -->
  <div class="px-4 pt-4 pb-3">
    <h4 class="text-emerald-600 text-xs font-medium tracking-wide dark:text-emerald-400">
      {{ product.category.name | term:2 }}
    </h4>
    <h3
      class="font-bold text-gray-800 text-lg line-clamp-1 group-hover:text-emerald-700 transition-colors duration-300
             dark:text-gray-200 dark:group-hover:text-emerald-300"
    >
      {{ product.title | term: 3 }}
    </h3>

    <div class="flex justify-between items-center pt-2">
      <!-- Rating -->
      <div class="flex items-center space-x-1 text-yellow-400">
        <i class="fas fa-star text-sm"></i>
        <span class="text-gray-600 text-sm font-medium dark:text-gray-400">{{ product.ratingsAverage }}</span>
      </div>
      <!-- Price -->
      <div class="flex items-baseline space-x-1">
        <span
          class="text-2xl font-bold bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent 
                 dark:from-emerald-400 dark:to-green-500 dark:drop-shadow-md"
        >
          {{ product.price | currency:'GBP' }}
        </span>
      </div>
    </div>
  </div>

  <!-- Add to Cart Button -->
  <div class="px-5 pb-5">
    <button 
      (click)="addProductItemToCart(product._id)" 
      class="w-full bg-gradient-to-r cursor-pointer from-emerald-500 to-green-600 
             hover:from-emerald-600 hover:to-green-700 text-white font-bold 
             py-3 px-6 rounded-xl transition-all duration-500 transform 
             translate-y-[120%] opacity-0 group-hover/card:translate-y-0 group-hover/card:opacity-100 
             hover:scale-[1.02] hover:shadow-lg active:scale-[0.98] 
             flex items-center justify-center space-x-2 space-x-reverse
             dark:from-emerald-500 dark:to-green-600 dark:hover:from-emerald-600 dark:hover:to-green-700"
    >
      <i class="fas fa-shopping-cart transition-transform duration-300 group-hover/btn:scale-110"></i>
      <span>Add to cart</span>
    </button>
  </div>
</div>
