<section
  class="p-11 bg-gray-100 dark:bg-gray-900 "
>
  <div class="my-14 w-full sm:w-4/5 md:w-2/3 lg:w-1/2 text-center mx-auto border p-6 rounded-lg border-gray-300 
         dark:border-gray-700 dark:text-white shadow-2xl 
         transition-colors duration-500 ease-in-out">
    
    <!-- Title -->
    <h1 class="text-4xl font-extrabold mb-8 tracking-wide 
               text-green-600 dark:text-green-400">
      Forgot Password
    </h1>

    <!-- Stepper -->
    <ol
      class="flex items-center w-full p-3 mb-10 space-x-2 text-sm font-medium 
             text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-800 
             border border-gray-200 dark:border-gray-700 rounded-lg shadow 
             sm:text-base sm:p-4 sm:space-x-4 rtl:space-x-reverse
             transition-colors duration-500"
    >
      <!-- Step 1 -->
      <li class="flex items-center"
          [ngClass]="{ 'text-green-600 dark:text-green-400 font-bold': step >= 1 }">
        <span
          class="flex items-center justify-center w-7 h-7 me-2 text-xs border rounded-full shrink-0
                 transition-colors font-semibold"
          [ngClass]="step >= 1 
            ? 'border-green-500 dark:border-green-400 bg-green-100 dark:bg-green-900/40 text-green-600 dark:text-green-400' 
            : 'border-gray-400 dark:border-gray-500 text-gray-500 dark:text-gray-400'">
          1
        </span>
        Email Info
        <svg class="w-4 h-4 ms-2 sm:ms-4 rtl:rotate-180"
             xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 10">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m7 9 4-4-4-4M1 9l4-4-4-4"/>
        </svg>
      </li>

      <!-- Step 2 -->
      <li class="flex items-center"
          [ngClass]="{ 'text-green-600 dark:text-green-400 font-bold': step >= 2 }">
        <span
          class="flex items-center justify-center w-7 h-7 me-2 text-xs border rounded-full shrink-0
                 transition-colors font-semibold"
          [ngClass]="step >= 2 
            ? 'border-green-500 dark:border-green-400 bg-green-100 dark:bg-green-900/40 text-green-600 dark:text-green-400' 
            : 'border-gray-400 dark:border-gray-500 text-gray-500 dark:text-gray-400'">
          2
        </span>
        Code Pin
        <svg class="w-4 h-4 ms-2 sm:ms-4 rtl:rotate-180"
             xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 10">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m7 9 4-4-4-4M1 9l4-4-4-4"/>
        </svg>
      </li>

      <!-- Step 3 -->
      <li class="flex items-center"
          [ngClass]="{ 'text-green-600 dark:text-green-400 font-bold': step >= 3 }">
        <span
          class="flex items-center justify-center w-7 h-7 me-2 text-xs border rounded-full shrink-0
                 transition-colors font-semibold"
          [ngClass]="step >= 3 
            ? 'border-green-500 dark:border-green-400 bg-green-100 dark:bg-green-900/40 text-green-600 dark:text-green-400' 
            : 'border-gray-400 dark:border-gray-500 text-gray-500 dark:text-gray-400'">
          3
        </span>
        Reset Password
      </li>
    </ol>

    <!-- Forms -->
    @if (step === 1) {
      <form [formGroup]="verifyEmail" class="space-y-5" (ngSubmit)="formStep1()">
        <app-input
          [control]="verifyEmail.get('email')"
          idInput="email"
          labelInput="Enter your email"
          typeInput="email">
        </app-input>

        <button
          type="submit"
          class="cursor-pointer w-full bg-green-600 text-white py-3 rounded-xl 
                 font-semibold hover:bg-green-700 dark:hover:bg-green-500 
                 transition-colors duration-300 shadow-lg"
        >
          Send Reset Code
        </button>
      </form>
    } @else if (step === 2) {
      <form [formGroup]="verifyCode" class="space-y-5" (ngSubmit)="formStep2()">
        <app-input
          [control]="verifyCode.get('resetCode')"
          idInput="resetCode"
          labelInput="Enter verification code"
          typeInput="text">
        </app-input>

        <button
          type="submit"
          class="cursor-pointer w-full bg-green-600 text-white py-3 rounded-xl 
                 font-semibold hover:bg-green-700 dark:hover:bg-green-500 
                 transition-colors duration-300 shadow-lg"
        >
          Verify Code
        </button>
      </form>
    } @else if (step === 3) {
      <form [formGroup]="verifyPassword" class="space-y-5" (ngSubmit)="formStep3()">
        <app-input
          [control]="verifyPassword.get('email')"
          idInput="resetEmail"
          labelInput="Email"
          typeInput="email">
        </app-input>

        <app-input
          [control]="verifyPassword.get('newPassword')"
          idInput="newPassword"
          labelInput="New Password"
          typeInput="password"
          [togglePassword]="true">
        </app-input>

        <button
          type="submit"
          class="cursor-pointer w-full bg-green-600 text-white py-3 rounded-xl 
                 font-semibold hover:bg-green-700 dark:hover:bg-green-500 
                 transition-colors duration-300 shadow-lg"
        >
          Reset Password
        </button>
      </form>
    }
  </div>
</section>
