<section
  class="p-11 my-10 bg-gray-100 border border-gray-900 shadow-2xl rounded-2xl 
         w-full sm:w-4/5 md:w-2/3 lg:w-1/2 text-center mx-auto"
>
  <!-- Title -->
  <h1 class="text-4xl font-extrabold mb-8 tracking-wide text-green-500">
    Forgot Password
  </h1>

  <!-- Stepper -->
  <ol
    class="flex items-center w-full p-3 mb-10 space-x-2 text-sm font-medium text-center 
           text-gray-500 bg-white border border-gray-200 rounded-lg shadow 
           sm:text-base sm:p-4 sm:space-x-4 rtl:space-x-reverse"
  >
    <!-- Step 1 -->
    <li class="flex items-center" [ngClass]="{ 'text-green-500 font-bold': step >= 1, 'dark:text-green-500': step >= 1 }">
      <span
        class="flex items-center justify-center w-5 h-5 me-2 text-xs border rounded-full shrink-0"
        [ngClass]="step >= 1 ? 'border-green-500 font-bold dark:border-green-500' : 'border-gray-500 dark:border-gray-400'">
        1
      </span>
      Email Info
      <svg class="w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180"
           xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 10">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m7 9 4-4-4-4M1 9l4-4-4-4"/>
      </svg>
    </li>

    <!-- Step 2 -->
    <li class="flex items-center" [ngClass]="{ 'text-green-500 font-bold': step >= 2, 'dark:text-green-500': step >= 2 }">
      <span
        class="flex items-center justify-center w-5 h-5 me-2 text-xs border rounded-full shrink-0"
        [ngClass]="step >= 2 ? 'border-green-500 font-bold dark:border-green-500' : 'border-gray-500 dark:border-gray-400'">
        2
      </span>
      Code Pin
      <svg class="w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180"
           xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 10">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m7 9 4-4-4-4M1 9l4-4-4-4"/>
      </svg>
    </li>

    <!-- Step 3 -->
    <li class="flex items-center" [ngClass]="{ 'text-green-500 font-bold': step >= 3, 'dark:text-green-500': step >= 3 }">
      <span
        class="flex items-center justify-center w-5 h-5 me-2 text-xs border rounded-full shrink-0"
        [ngClass]="step >= 3 ? 'border-green-500 font-bold dark:border-green-500' : 'border-gray-500 dark:border-gray-400'">
        3
      </span>
      Reset Password
    </li>
  </ol>

  <!-- Forms -->
  @if (step === 1) {
    <!-- Step 1: Verify Email -->
    <form [formGroup]="verifyEmail" class="space-y-4" (ngSubmit)="formStep1()">
      <app-input
        [control]="verifyEmail.get('email')"
        idInput="email"
        labelInput="Enter your email"
        typeInput="email">
      </app-input>

      <button
        type="submit"
        class="cursor-pointer w-full bg-green-600 text-white py-2 rounded-xl 
               font-semibold hover:bg-green-700 transition-colors"
      >
        Send Reset Code
      </button>
    </form>
  } @else if (step === 2) {
    <!-- Step 2: Verify Reset Code -->
    <form [formGroup]="verifyCode" class="space-y-4" (ngSubmit)="formStep2()">
      <app-input
        [control]="verifyCode.get('resetCode')"
        idInput="resetCode"
        labelInput="Enter verification code"
        typeInput="text">
      </app-input>

      <button
        type="submit"
        class="cursor-pointer w-full bg-green-600 text-white py-2 rounded-xl 
               font-semibold hover:bg-green-700 transition-colors"
      >
        Verify Code
      </button>
    </form>
  } @else if (step === 3) {
    <!-- Step 3: Reset Password -->
    <form [formGroup]="verifyPassword" class="space-y-4" (ngSubmit)="formStep3()">
      <app-input
        [control]="verifyPassword.get('email')"
        idInput="resetEmail"
        labelInput="Email"
        typeInput="email">
      </app-input>

      <app-input
        [control]="verifyPassword.get('newPassword')"
        idInput="newPassword"
        labelInput="New Password"
        typeInput="password"
        [togglePassword]="true">
      </app-input>

      <button
        type="submit"
        class="cursor-pointer w-full bg-green-600 text-white py-2 rounded-xl 
               font-semibold hover:bg-green-700 transition-colors"
      >
        Reset Password
      </button>
    </form>
  }
</section>